<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Components &mdash; Phaser Editor 2D Help</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/icon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Create a new User Components file" href="user-components-create-file.html" />
    <link rel="prev" title="Using a prefab as a black box" href="prefab-black-box.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >
            <a href="../index.html" class="icon icon-home"> Phaser Editor 2D
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                v3.36.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../first-steps/index.html">First steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workbench/index.html">Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../asset-pack-editor/index.html">Asset Pack Editor</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Scene Editor</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="create-new-scene-file.html">Create a new Scene file</a></li>
<li class="toctree-l2"><a class="reference internal" href="add-object.html">Adding an object to the scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="inspector-view.html">Inspector view</a></li>
<li class="toctree-l2"><a class="reference internal" href="game-objects.html">Game Object types</a></li>
<li class="toctree-l2"><a class="reference internal" href="scene-properties.html">Scene properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcade-physics.html">Arcade physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="working-with-parent-objects.html">Working with parent objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="object-list.html">Object List</a></li>
<li class="toctree-l2"><a class="reference internal" href="display-list.html">Display List</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Input</a></li>
<li class="toctree-l2"><a class="reference internal" href="prefabs.html">Prefabs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">User Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user-components-create-file.html">Create a new User Components file</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-components-editor.html">User Components Editor</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-components-compiler.html">The User Components compiler</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-components-start-update-methods.html">Implementing behaviors with the Phaser events</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-components-super-class.html">A base class for your components</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-components-awake-event.html">The awake event</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-components-instancing.html">Adding User Components to a Game Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-components-in-prefab-object.html">Adding User Components to a Prefab</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manipulation-tools.html">Manipulation tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="layout-tools.html">Layout tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="scene-compiler.html">The scene compiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../code-editor/index.html">Code Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../animations-editor/index.html">Animations Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../atlas-editor/index.html">Atlas Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/index.html">Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pricing/index.html">License and pricing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Phaser Editor 2D</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Scene Editor</a> &raquo;</li>
      <li>User Components</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="user-components">
<h1>User Components<a class="headerlink" href="#user-components" title="Permalink to this headline">ÔÉÅ</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="user-components-create-file.html">Create a new User Components file</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-components-editor.html">User Components Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-components-compiler.html">The User Components compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-components-start-update-methods.html">Implementing behaviors with the Phaser events</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-components-super-class.html">A base class for your components</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-components-awake-event.html">The awake event</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-components-instancing.html">Adding User Components to a Game Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-components-in-prefab-object.html">Adding User Components to a Prefab</a></li>
</ul>
</div>
<p>A Component is a <a class="reference external" href="https://gameprogrammingpatterns.com/component.html">design pattern</a> that you can use to create reusable code and extend the behavior and data of a game object, using <a class="reference external" href="https://en.wikipedia.org/wiki/Composition_over_inheritance">composition over inheritance</a>.</p>
<p>For example, an <strong>HorizontalMove</strong> component can be added to any kind of enemy object that moves horizontally from one position to another. This component class can be written more or less like this (see the <a class="reference external" href="../scene-editor/user-components-compiler.html">User Components compiler</a> section for a real example):</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nx">HorizontalMove</span> <span class="p">{</span>

    <span class="kr">constructor</span><span class="p">(</span><span class="nx">gameObject</span><span class="p">)</span> <span class="p">{</span>

        <span class="c1">// in the component, keep a reference to the entity</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">gameObject</span> <span class="o">=</span> <span class="nx">gameObject</span><span class="p">;</span>
        <span class="c1">// in the entity, keep a reference (&#39;horizontalMove&#39;) to the component</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">gameObject</span><span class="p">.</span><span class="nx">horizontalMove</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="c1">// init properties with default values</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">minX</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">maxX</span> <span class="o">=</span> <span class="mf">800</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">horizVelocity</span> <span class="o">=</span> <span class="mf">10</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">start</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">gameObject</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">velocity</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">horizVelocity</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">update</span><span class="p">()</span> <span class="p">{</span>

        <span class="c1">// the behavior of the component</span>

        <span class="kd">const</span> <span class="nx">velocity</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">gameObject</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">velocity</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">gameObject</span><span class="p">.</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">minX</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">velocity</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">horizVelocity</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">gameObject</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">maxX</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">velocity</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">horizVelocity</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the scene, you can create objects and add the <strong>HorizontalMove</strong> component to them. Then, update the components at every game loop step:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nx">Level</span> <span class="k">extends</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">Scene</span> <span class="p">{</span>

    <span class="nx">create</span><span class="p">()</span> <span class="p">{</span>

        <span class="c1">// create two objects, alien and spider, and add the HorizontalMove</span>
        <span class="c1">// component to both, but with different property values.</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">alien</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span> <span class="mf">10</span><span class="p">,</span> <span class="s2">&quot;enemies&quot;</span><span class="p">,</span> <span class="s2">&quot;alien&quot;</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">alienMove</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">HorizontalMove</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">alien</span><span class="p">);</span>
        <span class="nx">alienMove</span><span class="p">.</span><span class="nx">minX</span> <span class="o">=</span> <span class="mf">10</span><span class="p">;</span>
        <span class="nx">alienMove</span><span class="p">.</span><span class="nx">maxX</span> <span class="o">=</span> <span class="mf">100</span><span class="p">;</span>
        <span class="nx">alienMove</span><span class="p">.</span><span class="nx">horizVelocity</span> <span class="o">=</span> <span class="mf">40</span><span class="p">;</span>
        <span class="nx">alienMove</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">spider</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mf">80</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="s2">&quot;enemies&quot;</span><span class="p">,</span> <span class="s2">&quot;spider&quot;</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">spiderMove</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">HorizontalMove</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">spider</span><span class="p">);</span>
        <span class="nx">spiderMove</span><span class="p">.</span><span class="nx">minX</span> <span class="o">=</span> <span class="mf">50</span><span class="p">;</span>
        <span class="nx">spiderMove</span><span class="p">.</span><span class="nx">maxX</span> <span class="o">=</span> <span class="mf">200</span><span class="p">;</span>
        <span class="nx">spiderMove</span><span class="p">.</span><span class="nx">horizVelocity</span> <span class="o">=</span> <span class="o">-</span><span class="mf">20</span><span class="p">;</span>
        <span class="nx">spiderMove</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">update</span><span class="p">()</span> <span class="p">{</span>

        <span class="c1">// update the HorizontalMove component of each object</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">alien</span><span class="p">.</span><span class="nx">horizontalMove</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">spider</span><span class="p">.</span><span class="nx">horizontalMove</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>

         <span class="c1">// in a real case, the component can register</span>
         <span class="c1">// a listener to the UPDATE event of the scene.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In <a class="reference external" href="https://phasereditor2d.com">Phaser Editor 2D</a>, we provide a way to create game object components (we name it <strong>User Components</strong>, to make a difference with the built-in Phaser components) and use them in the <a class="reference external" href="../scene-editor/index.html">Scene Editor</a>. The <a class="reference external" href="../scene-editor/prefabs.html">prefabs</a> system is another way to create reusable behaviors and data but has the limitation that it uses inheritance.</p>
<p>Like the <a class="reference external" href="../scene-editor/index.html">Scene Editor</a>, we provide a <a class="reference external" href="../scene-editor/user-components-editor.html">User Components Editor</a>.</p>
<p>The <a class="reference external" href="../scene-editor/user-components-editor.html">User Components Editor</a> allows you to create User Components configuration files. A User Components configuration file (<code class="docutils literal notranslate"><span class="pre">*.components</span></code>) contains a list of component configurations that are compiled into JavaScript (or TypeScript) code. It is pretty similar to the <a class="reference external" href="../scene-editor/scene-compiler.html">scene compiler</a>.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="prefab-black-box.html" class="btn btn-neutral float-left" title="Using a prefab as a black box" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="user-components-create-file.html" class="btn btn-neutral float-right" title="Create a new User Components file" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, Arian Fornaris.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-67206336-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-67206336-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>